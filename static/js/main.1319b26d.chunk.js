(window["webpackJsonpreact-thumbnail-extractor-app"]=window["webpackJsonpreact-thumbnail-extractor-app"]||[]).push([[0],{233:function(e,t,o){"use strict";o.r(t);var n=o(3),i=o.n(n),r=o(78),a=o.n(r),u=(o(90),o(79)),c=o(80),l=o(83),s=o(81),d=o(84),p=(o(91),o(92),o(82)),m=o.n(p),h=(o(96),function(e){function t(e){var o;return Object(u.a)(this,t),(o=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){o.setState({file:e.target.files[0]})},o.onBeforeCapture=function(e){console.log("before capture",e)},o.onStartCapture=function(e){console.log("onStartCapture ",e)},o.onUnsupportedVideo=function(e){console.log("onUnsupportedVideo ",e)},o.onCapture=function(e){console.log("onCapture ",e),o.setState({images:e})},o.onComplete=function(e){console.log("onComplete ",e)},o.onCompleteDetails=function(e){console.log("onCompleteDetails ",e)},o.state={file:null,images:[]},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state;e.file,e.images;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",null,"ThumbnailExtractor Demo")),i.a.createElement("input",{type:"file",onChange:this.handleChange,accept:"video/mp4,video/x-m4v,video/*"}),i.a.createElement("div",{className:"imageContainer"},i.a.createElement(m.a,{displayImages:!0,maxWidth:600,onCompleteDetails:this.onCompleteDetails,onComplete:this.onComplete,onCapture:this.onCapture,onUnsupportedVideo:this.onUnsupportedVideo,onBeforeCapture:this.onBeforeCapture,onStartCapture:this.onStartCapture,videoFile:this.state.file})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}(o(93));function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s=function(e){function t(e){var o,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=a(t).call(this,e),o=!r||"object"!==i(r)&&"function"!==typeof r?u(n):r,l(u(o),"getTime",function(){var e=(new Date).getTime(),t=e-o.lastTime,n=e-o.startTime;return o.lastTime=e,{diff:t,fromStart:n}}),l(u(o),"cleanUp",function(){o.video=null,delete o.video,o.videoHtml=null,delete o.videoHtml}),l(u(o),"grabComplete",function(e){var t=o.props,n=t.onCapture,i=t.onComplete,r=t.onCompleteDetails,a=o.currentShot;o.completed++;var u=o.getTime();if(o.captures.push(e),o.setState({captures:o.captures}),o.capturesDetailed[a].url=e,o.capturesDetailed[a].captureTime=u.diff,n&&n(o.captures),o.completed>=o.count){o.cleanUp(),i&&i(o.captures);var c=o.getTime();r&&r({thumbs:o.capturesDetailed,totalTime:c.fromStart,details:{thumbnailCount:o.count,videoDuration:o.videoDuration,videoInterval:o.videoInterval,thumbWidth:o.thumbWidth,thumbHeight:o.thumbHeight,videoStart:o.videoStart}})}else o.prepareScreenshot()}),l(u(o),"save",function(e){var t=e.toDataURL("image/jpeg",.7);o.grabComplete(t)}),l(u(o),"captureScreenShot",function(){var e=document.createElement("canvas");e.width=o.thumbWidth,e.height=o.thumbHeight,e.getContext("2d").drawImage(o.video,0,0,o.thumbWidth,o.thumbHeight),o.save(e)}),l(u(o),"prepareScreenshot",function(){o.currentShot++;var e=Math.floor(o.videoStart+o.currentShot*o.videoInterval-o.videoInterval),t=o.getTime();o.capturesDetailed[o.currentShot]={capture:o.currentShot,width:o.thumbWidth,height:o.thumbHeight,timeindex:e,startTime:t.fromStart,captureTime:null},o.video.currentTime=e}),l(u(o),"initScreenshot",function(){if(o.thumbWidth=o.video.videoWidth,o.thumbHeight=o.video.videoHeight,o.thumbWidth>o.thumbHeight){var e=o.maxWidth/o.thumbWidth;o.thumbWidth=o.maxWidth,o.thumbHeight=parseInt(o.thumbHeight*e)}else if(o.thumbWidth===o.thumbHeight)o.thumbWidth=o.maxWidth,o.thumbHeight=o.maxHeight;else{var t=o.maxHeight/o.thumbHeight;o.thumbHeight=o.maxHeight,o.thumbWidth=parseInt(o.thumbWidth*t)}o.videoHtml.style.width=o.thumbWidth,o.videoHtml.style.height=o.thumbHeight,o.videoDuration=o.video.duration,o.videoInterval=o.videoDuration/(o.count+1),o.videoStart=o.videoInterval/2,o.prepareScreenshot()}),l(u(o),"parseVideo",function(){var e=o.props,t=e.videoFile,n=e.onBeforeCapture,i=e.onStartCapture,r=e.onUnsupportedVideo;n&&n(),o.lastTime=o.startTime=(new Date).getTime(),(new FormData).append("file",t,t.name);var a=(window.URL||window.webkitURL).createObjectURL(t),u=document.createElement("video");u.setAttribute("id","videoHtmlCapture"),u.setAttribute("controls",!0),u.setAttribute("preload","metadata"),u.setAttribute("crossorigin","*"),u.setAttribute("width","600"),u.setAttribute("src",a);var c=document.createElement("source");c.setAttribute("src",a),c.setAttribute("type",t.type),u.innerHTML=c,o.videoHtml=u,o.video=o.videoHtml,o.video.onloadedmetadata=function(){i&&i(o.state.captures),o.video.play()},o.video.onplay=function(){o.initScreenshot()},o.video.onerror=function(){r&&r()},o.video.addEventListener("seeked",function(){o.video&&(o.video.pause(),o.captureScreenShot())})}),o.video,o.videoHtml,o.videoHeight,o.videoWidth,o.videoDuration,o.videoInterval,o.videoStart,o.completed=0,o.captures=[],o.capturesDetailed={},o.events={},o.currentShot=0,o.startTime=null,o.lastTime=null,o.maxWidth=e.maxWidth||1280,o.maxHeight=e.maxHeight||1280,o.count=e.count||8,o.state={captures:[]},o}var o,s,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n.Component),o=t,(s=[{key:"componentDidUpdate",value:function(e,t){e.videoFile!==this.props.videoFile&&this.parseVideo()}},{key:"render",value:function(){var e=this.props,t=e.videoFile,o=e.displayImages,i=e.thumbnailsClass;return t&&o?this.state.captures.map(function(e,t){return n.default.createElement("img",{className:i,key:"thumbnail_image_".concat(t),src:e})}):null}}])&&r(o.prototype,s),d&&r(o,d),t}();t.default=s},85:function(e,t,o){e.exports=o(233)},90:function(e,t,o){},91:function(e,t,o){e.exports=o.p+"static/media/logo.5d5d9eef.svg"},92:function(e,t,o){}},[[85,1,2]]]);
//# sourceMappingURL=main.1319b26d.chunk.js.map