{"version":3,"sources":["App.js","serviceWorker.js","index.js","../../react-thumbnail-extractor/dist/index.js","logo.svg"],"names":["App","props","handleChange","event","setState","file","target","files","onBeforeCapture","console","log","onStartCapture","onUnsupportedVideo","onCapture","images","onComplete","onCompleteDetails","state","this","className","type","onChange","accept","displayImages","maxWidth","videoFile","Component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","Object","defineProperty","exports","value","_react","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","_interopRequireWildcard","_typeof","Symbol","iterator","constructor","_defineProperties","i","length","descriptor","enumerable","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","_defineProperty","ThumbnailExtractor","_Component","_this","instance","Constructor","TypeError","_classCallCheck","thisTime","Date","getTime","diff","lastTime","fromStart","startTime","video","videoHtml","image","_this$props","counter","currentShot","completed","statTime","captures","push","capturesDetailed","url","captureTime","count","cleanUp","stats","thumbs","totalTime","details","thumbnailCount","videoDuration","videoInterval","thumbWidth","thumbHeight","videoStart","prepareScreenshot","canvas","theCapture","toDataURL","grabComplete","createElement","width","height","getContext","drawImage","save","newTime","Math","floor","capture","timeindex","currentTime","videoWidth","videoHeight","ratio","parseInt","maxHeight","_ratio","style","duration","_this$props2","FormData","append","name","fileURL","URL","webkitURL","createObjectURL","setAttribute","theVideo","innerHTML","onloadedmetadata","play","onplay","initScreenshot","onerror","addEventListener","pause","captureScreenShot","events","protoProps","staticProps","subClass","superClass","create","_inherits","prevProps","prevState","parseVideo","_this$props3","thumbnailsClass","map","concat","src","module"],"mappings":"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","file":"static/js/main.ea87da0f.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport ThumbnailExtractor from 'react-thumbnail-extractor'\nimport { throwStatement } from '@babel/types';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      file:  null,\n      images: []\n    }\n  }\n\n  handleChange = (event) =>{\n    this.setState({\n      file: event.target.files[0]\n    })\n  }\n  onBeforeCapture = (event) => {\n    console.log(\"before capture\",event);\n  }\n  onStartCapture = (event) => {\n    console.log(\"onStartCapture \",event);\n  }\n  onUnsupportedVideo = (event) => {\n    console.log(\"onUnsupportedVideo \",event);\n  }\n\n  onCapture = (event) => {\n    console.log(\"onCapture \",event);\n    this.setState({\n      images: event\n    })\n  }\n\n  onComplete = (event) => {\n    console.log(\"onComplete \",event);\n  }\n\n  onCompleteDetails = (event) => {\n    console.log(\"onCompleteDetails \",event);\n  }\n\n\n  \n  render() {\n    const { file, images } = this.state\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\"><h1>ThumbnailExtractor Demo</h1></header>\n        <input type=\"file\" onChange={this.handleChange} accept=\"video/mp4,video/x-m4v,video/*\"></input>\n        <div className=\"imageContainer\">\n        <ThumbnailExtractor displayImages maxWidth={600} onCompleteDetails={this.onCompleteDetails} onComplete={this.onComplete} onCapture={this.onCapture} onUnsupportedVideo={this.onUnsupportedVideo}  onBeforeCapture={this.onBeforeCapture} onStartCapture={this.onStartCapture} videoFile={this.state.file} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ThumbnailExtractor =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ThumbnailExtractor, _Component);\n\n  function ThumbnailExtractor(props) {\n    var _this;\n\n    _classCallCheck(this, ThumbnailExtractor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ThumbnailExtractor).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getTime\", function () {\n      var thisTime = new Date().getTime();\n      var diff = thisTime - _this.lastTime;\n      var fromStart = thisTime - _this.startTime;\n      _this.lastTime = thisTime;\n      return {\n        diff: diff,\n        fromStart: fromStart\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"cleanUp\", function () {\n      _this.video = null;\n      delete _this.video;\n      _this.videoHtml = null;\n      delete _this.videoHtml;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"grabComplete\", function (image) {\n      var _this$props = _this.props,\n          onCapture = _this$props.onCapture,\n          onComplete = _this$props.onComplete,\n          onCompleteDetails = _this$props.onCompleteDetails;\n      var counter = _this.currentShot;\n      _this.completed++; //Stats are nice\n\n      var statTime = _this.getTime(); //Save it to the array\n\n\n      _this.captures.push(image);\n\n      _this.setState({\n        captures: _this.captures\n      });\n\n      _this.capturesDetailed[counter].url = image;\n      _this.capturesDetailed[counter].captureTime = statTime.diff; //Fire the event incase anyone is listening\n\n      onCapture && onCapture(_this.captures); //All done so remove the elements\n\n      if (_this.completed >= _this.count) {\n        _this.cleanUp();\n\n        onComplete && onComplete(_this.captures);\n\n        var stats = _this.getTime();\n\n        onCompleteDetails && onCompleteDetails({\n          thumbs: _this.capturesDetailed,\n          totalTime: stats.fromStart,\n          details: {\n            thumbnailCount: _this.count,\n            videoDuration: _this.videoDuration,\n            videoInterval: _this.videoInterval,\n            thumbWidth: _this.thumbWidth,\n            thumbHeight: _this.thumbHeight,\n            videoStart: _this.videoStart\n          }\n        });\n      } else {\n        //Prepare the next shot\n        _this.prepareScreenshot();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"save\", function (canvas) {\n      //Get the shot\n      var theCapture = canvas.toDataURL('image/jpeg', 0.7); //done\n\n      _this.grabComplete(theCapture);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"captureScreenShot\", function () {\n      var canvas = document.createElement('canvas');\n      canvas.width = _this.thumbWidth;\n      canvas.height = _this.thumbHeight;\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(_this.video, 0, 0, _this.thumbWidth, _this.thumbHeight); //and save\n\n      _this.save(canvas);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"prepareScreenshot\", function () {\n      _this.currentShot++;\n      var newTime = Math.floor(_this.videoStart + _this.currentShot * _this.videoInterval - _this.videoInterval);\n\n      var statTime = _this.getTime();\n\n      _this.capturesDetailed[_this.currentShot] = {\n        capture: _this.currentShot,\n        width: _this.thumbWidth,\n        height: _this.thumbHeight,\n        timeindex: newTime,\n        startTime: statTime.fromStart,\n        captureTime: null\n      };\n      _this.video.currentTime = newTime;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initScreenshot\", function () {\n      _this.thumbWidth = _this.video.videoWidth;\n      _this.thumbHeight = _this.video.videoHeight; //Wide video\n\n      if (_this.thumbWidth > _this.thumbHeight) {\n        var ratio = _this.maxWidth / _this.thumbWidth;\n        _this.thumbWidth = _this.maxWidth;\n        _this.thumbHeight = parseInt(_this.thumbHeight * ratio); //square video\n      } else if (_this.thumbWidth === _this.thumbHeight) {\n        _this.thumbWidth = _this.maxWidth;\n        _this.thumbHeight = _this.maxHeight; //tall video\n      } else {\n        var _ratio = _this.maxHeight / _this.thumbHeight;\n\n        _this.thumbHeight = _this.maxHeight;\n        _this.thumbWidth = parseInt(_this.thumbWidth * _ratio);\n      }\n\n      _this.videoHtml.style.width = _this.thumbWidth;\n      _this.videoHtml.style.height = _this.thumbHeight;\n      _this.videoDuration = _this.video.duration;\n      _this.videoInterval = _this.videoDuration / (_this.count + 1); //this will ensure credits are ignored\n\n      _this.videoStart = _this.videoInterval / 2; //Prepare the next shot\n\n      _this.prepareScreenshot();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"parseVideo\", function () {\n      var _this$props2 = _this.props,\n          videoFile = _this$props2.videoFile,\n          onBeforeCapture = _this$props2.onBeforeCapture,\n          onStartCapture = _this$props2.onStartCapture,\n          onUnsupportedVideo = _this$props2.onUnsupportedVideo;\n      onBeforeCapture && onBeforeCapture();\n      _this.lastTime = _this.startTime = new Date().getTime();\n      var data = new FormData();\n      data.append('file', videoFile, videoFile.name);\n      var url = window.URL || window.webkitURL;\n      var fileURL = url.createObjectURL(videoFile);\n      var videoHtml = document.createElement('video');\n      videoHtml.setAttribute('id', 'videoHtmlCapture');\n      videoHtml.setAttribute('controls', true);\n      videoHtml.setAttribute('preload', 'metadata');\n      videoHtml.setAttribute('crossorigin', '*');\n      videoHtml.setAttribute('width', '600');\n      videoHtml.setAttribute('src', fileURL);\n      var theVideo = document.createElement('source');\n      theVideo.setAttribute('src', fileURL);\n      theVideo.setAttribute('type', videoFile.type);\n      videoHtml.innerHTML = theVideo;\n      _this.videoHtml = videoHtml;\n      _this.video = _this.videoHtml;\n\n      _this.video.onloadedmetadata = function () {\n        onStartCapture && onStartCapture(_this.state.captures);\n\n        _this.video.play();\n      };\n\n      _this.video.onplay = function () {\n        _this.initScreenshot();\n      }; //Can't play this video\n\n\n      _this.video.onerror = function () {\n        onUnsupportedVideo && onUnsupportedVideo();\n      };\n\n      _this.video.addEventListener('seeked', function () {\n        //Check we still have a video (might have been cancelled)\n        if (_this.video) {\n          _this.video.pause();\n\n          _this.captureScreenShot();\n        }\n      });\n    });\n\n    _this.video;\n    _this.videoHtml;\n    _this.videoHeight;\n    _this.videoWidth;\n    _this.videoDuration;\n    _this.videoInterval;\n    _this.videoStart;\n    _this.completed = 0;\n    _this.captures = [];\n    _this.capturesDetailed = {};\n    _this.events = {};\n    _this.currentShot = 0;\n    _this.startTime = null;\n    _this.lastTime = null;\n    _this.maxWidth = props.maxWidth || 1280;\n    _this.maxHeight = props.maxHeight || 1280;\n    _this.count = props.count || 8;\n    _this.state = {\n      captures: []\n    };\n    return _this;\n  }\n\n  _createClass(ThumbnailExtractor, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.videoFile !== this.props.videoFile) {\n        this.parseVideo();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          videoFile = _this$props3.videoFile,\n          displayImages = _this$props3.displayImages,\n          thumbnailsClass = _this$props3.thumbnailsClass;\n\n      if (!videoFile || !displayImages) {\n        return null;\n      }\n\n      return this.state.captures.map(function (image, key) {\n        return _react[\"default\"].createElement(\"img\", {\n          className: thumbnailsClass,\n          key: \"thumbnail_image_\".concat(key),\n          src: image\n        });\n      });\n    }\n  }]);\n\n  return ThumbnailExtractor;\n}(_react.Component);\n\nexports[\"default\"] = ThumbnailExtractor;","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}